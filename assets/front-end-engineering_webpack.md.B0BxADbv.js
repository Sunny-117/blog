import{_ as e}from"./chunks/plugin-vue_export-helper.DlAUqK2U.js";import{G as h,c as k,o as r,X as t,x as a,H as l,a as i,q as p}from"./chunks/vendor-vueuse.XPft87tp.js";const A=JSON.parse('{"title":"webpack onePage","description":"","frontmatter":{},"headers":[],"relativePath":"front-end-engineering/webpack.md","filePath":"front-end-engineering/webpack.md","lastUpdated":1771466668000}'),d={name:"front-end-engineering/webpack.md"},F={id:"webpack-编译过程",tabindex:"-1"};function o(c,s,g,y,u,b){const n=h("font");return r(),k("div",null,[s[50]||(s[50]=t('<h1 id="webpack-onepage" tabindex="-1">webpack onePage <a class="header-anchor" href="#webpack-onepage" aria-label="Permalink to &quot;webpack onePage&quot;">​</a></h1><h2 id="如何在浏览器端实现模块" tabindex="-1">如何在浏览器端实现模块 <a class="header-anchor" href="#如何在浏览器端实现模块" aria-label="Permalink to &quot;如何在浏览器端实现模块&quot;">​</a></h2><h3 id="浏览器端的模块化" tabindex="-1">浏览器端的模块化 <a class="header-anchor" href="#浏览器端的模块化" aria-label="Permalink to &quot;浏览器端的模块化&quot;">​</a></h3><p>问题：</p><ul><li>效率问题：精细的模块划分带来了更多的JS文件，更多的JS文件带来了更多的请求，降低了页面访问效率</li><li>兼容性问题：浏览器目前仅支持ES6的模块化标准，并且还存在兼容性问题</li><li>工具问题：浏览器不支持npm下载的第三方包</li></ul><p>这些仅仅是前端工程化的一个缩影</p><p>当开发一个具有规模的程序，你将遇到非常多的非业务问题，这些问题包括：执行效率、兼容性、代码的可维护性可扩展性、团队协作、测试等等等等，我们将这些问题称之为工程问题。工程问题与业务无关，但它深刻的影响到开发进度，如果没有一个好的工具解决这些问题，将使得开发进度变得极其缓慢，同时也让开发者陷入技术的泥潭。</p><h3 id="根本原因" tabindex="-1">根本原因 <a class="header-anchor" href="#根本原因" aria-label="Permalink to &quot;根本原因&quot;">​</a></h3><p>思考：上面提到的问题，为什么在node端没有那么明显，反而到了浏览器端变得如此严重呢？</p>',9)),a("p",null,[s[1]||(s[1]=i("答：")),l(n,{style:{color:"#F5222D"}},{default:p(()=>s[0]||(s[0]=[i("在node端，运行的JS文件在本地，因此可以本地读取文件")])),_:1}),s[2]||(s[2]=i("，它的效率比浏览器远程传输文件高的多"))]),s[51]||(s[51]=t('<p><strong>根本原因</strong>：在浏览器端，开发时态（devtime）和运行时态（runtime）的侧重点不一样</p><p><strong>开发时态，devtime：</strong></p><ol><li>模块划分越细越好</li><li>支持多种模块化标准</li><li>支持npm或其他包管理器下载的模块</li><li>能够解决其他工程化的问题</li></ol><p><strong>运行时态，runtime：</strong></p><ol><li>文件越少越好</li><li>文件体积越小越好</li><li>代码内容越乱越好</li><li>所有浏览器都要兼容</li><li>能够解决其他运行时的问题，主要是执行效率问题</li></ol><p>这种差异在小项目中表现的并不明显，可是一旦项目形成规模，就越来越明显，如果不解决这些问题，前端项目形成规模只能是空谈</p><h3 id="解决办法" tabindex="-1">解决办法 <a class="header-anchor" href="#解决办法" aria-label="Permalink to &quot;解决办法&quot;">​</a></h3><p>既然开发时态和运行时态面临的局面有巨大的差异，因此，我们需要有一个工具，这个工具能够让开发者专心的在开发时态写代码，然后利用这个工具将开发时态编写的代码转换为运行时态需要的东西。</p><p>这样的工具，叫做<strong>构建工具</strong></p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/758572/1615709548244-ea8fbf74-44f7-4c2d-ad0d-9ea8bed1bc57.png" alt=""></p><p>这样一来，开发者就可以专注于开发时态的代码结构，而不用担心运行时态遇到的问题了。</p><h3 id="常见的构建工具" tabindex="-1">常见的构建工具 <a class="header-anchor" href="#常见的构建工具" aria-label="Permalink to &quot;常见的构建工具&quot;">​</a></h3><ul><li><strong>webpack</strong></li><li>grunt</li><li>gulp</li><li>browserify</li><li>fis</li><li>其他</li></ul><h2 id="webpack的安装和使用" tabindex="-1">webpack的安装和使用 <a class="header-anchor" href="#webpack的安装和使用" aria-label="Permalink to &quot;webpack的安装和使用&quot;">​</a></h2><blockquote><p>webpack官网：<a href="https://www.webpackjs.com/" target="_blank" rel="noreferrer">https://www.webpackjs.com/</a></p></blockquote><h3 id="webpack简介" tabindex="-1">webpack简介 <a class="header-anchor" href="#webpack简介" aria-label="Permalink to &quot;webpack简介&quot;">​</a></h3><p>全部东西视为模块</p><p>webpack是基于模块化的打包（构建）工具，它把一切视为模块</p><p>它通过一个开发时态的入口模块为起点，分析出所有的依赖关系，然后经过一系列的过程（压缩、合并），最终生成运行时态的文件。</p><p>webpack的特点：</p>',20)),a("ul",null,[s[8]||(s[8]=a("li",null,[a("strong",null,"为前端工程化而生"),i("：webpack致力于解决前端工程化，特别是浏览器端工程化中遇到的问题，让开发者集中注意力编写业务代码，而把工程化过程中的问题全部交给webpack来处理")],-1)),s[9]||(s[9]=a("li",null,[a("strong",null,"简单易用"),i("：支持零配置，可以不用写任何一行额外的代码就使用webpack")],-1)),s[10]||(s[10]=a("li",null,[a("strong",null,"强大的生态"),i("：webpack是非常灵活、可以扩展的，webpack本身的功能并不多，但它提供了一些可以扩展其功能的机制，使得一些第三方库可以融于到webpack中")],-1)),a("li",null,[s[6]||(s[6]=a("strong",null,"基于nodejs",-1)),s[7]||(s[7]=i("：由于webpack在构建的过程中需要读取文件，因此")),a("strong",null,[s[5]||(s[5]=i("它是（")),a("strong",null,[a("strong",null,[l(n,{style:{color:"#F5222D"}},{default:p(()=>s[3]||(s[3]=[i("中间是）")])),_:1})])]),l(n,{style:{color:"#F5222D"}},{default:p(()=>s[4]||(s[4]=[i("运行在node环境中的")])),_:1})])])]),s[52]||(s[52]=t('<blockquote><p>理解:中间打包需要node环境，如果左边是浏览器环境，右边即浏览器；如果左边是node环境，右边即node</p></blockquote><ul><li><strong>基于模块化</strong>：webpack在构建过程中要分析依赖关系，方式是通过模块化导入语句进行分析的，它支持各种模块化标准，包括CommonJS、ES6 Module</li></ul><blockquote><p>只打包依赖的东西</p></blockquote><h3 id="webpack的安装" tabindex="-1">webpack的安装 <a class="header-anchor" href="#webpack的安装" aria-label="Permalink to &quot;webpack的安装&quot;">​</a></h3><p>webpack通过npm安装，它提供了两个包：</p><ul><li>webpack：核心包，包含了webpack构建过程中要用到的所有api</li><li>webpack-cli：提供一个简单的cli命令，它调用了webpack核心包的api，来完成构建过程</li></ul><p>安装方式：</p><ul><li>全局安装：可以全局使用webpack命令，但是无法为不同项目对应不同的webpack版本</li><li>本地安装：推荐，每个项目都使用自己的webpack版本进行构建</li></ul><p>先初始化npm init，在npm i -D webpack webpack-cli D开发依赖，而不是生产,右边要运行，右边已经构建完成，和webpack没关系了</p><h3 id="使用" tabindex="-1">使用 <a class="header-anchor" href="#使用" aria-label="Permalink to &quot;使用&quot;">​</a></h3><p>webpack</p><p>默认情况下，webpack会以<code>./src/index.js</code>作为入口文件分析依赖关系，打包到<code>./dist/main.js</code>文件中</p><p>通过--mode选项可以控制webpack的打包结果的运行环境</p><p>npx webpack命令运行</p>',14)),l(n,{style:{color:"#F5222D"}},{default:p(()=>s[11]||(s[11]=[i("src里面是开发时候的代码，dist里面是运行时候的代码. src 里面如果语法错误，也不报错，因为根本就不运行")])),_:1}),s[53]||(s[53]=t(`<blockquote><p>打包完成的代码要在什么环境内运行？</p></blockquote><ol><li></li></ol><p>开发环境配置：npx webpack --mode=development</p><p>生产环境配置：npx webpack --mode=production</p><ol start="2"><li>也可以在package.json配置</li></ol><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">scripts</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">: </span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">{</span></span>
<span class="line"><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">  &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">build</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">webpack --mode=production</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span></span>
<span class="line"><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">  &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">dev</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">webpack --mode=development</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">},</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">运行</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">：</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">npm</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> run</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> build</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">--------</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">生产环境</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">		 npm</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> run</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> dev</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">----------</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">开发环境</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ol start="3"><li>也可以在webpack.config.js里面配置以下代码：</li></ol><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#B8A965;--shiki-dark-font-style:inherit;">module</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#B8A965;--shiki-dark-font-style:inherit;">exports</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#B8A965;">    mode</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">development</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="模块化兼容性" tabindex="-1">模块化兼容性 <a class="header-anchor" href="#模块化兼容性" aria-label="Permalink to &quot;模块化兼容性&quot;">​</a></h2><p>由于webpack同时支持CommonJS和ES6 module，因此需要理解它们互操作时webpack是如何处理的</p><h3 id="同模块化标准" tabindex="-1">同模块化标准 <a class="header-anchor" href="#同模块化标准" aria-label="Permalink to &quot;同模块化标准&quot;">​</a></h3><p>如果导出和导入使用的是同一种模块化标准，打包后的效果和之前学习的模块化没有任何差异</p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/758572/1615779492219-2888c77e-eba5-426e-8381-8c81679cc215.png" alt=""></p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/758572/1615779502334-4ebb05ee-a9b2-4d40-9d65-d4748484b3b6.png" alt=""></p><h3 id="不同模块化标准" tabindex="-1">不同模块化标准 <a class="header-anchor" href="#不同模块化标准" aria-label="Permalink to &quot;不同模块化标准&quot;">​</a></h3><p>不同的模块化标准，webpack按照如下的方式处理</p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/758572/1615779520133-5b015b28-1a6b-469e-b8b4-2f99844ea91c.png" alt=""></p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/758572/1615779531779-ff8dded5-bd98-4e97-b477-467e71f4bcc7.png" alt=""></p><p>命令实现：es6导出，commonjs导入</p><p>package.json配置好</p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">scripts</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">: </span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">{</span></span>
<span class="line"><span style="--shiki-light:#8BE9FE;--shiki-dark:#B8A96577;">    &quot;</span><span style="--shiki-light:#8BE9FD;--shiki-dark:#B8A965;">build</span><span style="--shiki-light:#8BE9FE;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">webpack --mode=production</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span></span>
<span class="line"><span style="--shiki-light:#8BE9FE;--shiki-dark:#B8A96577;">    &quot;</span><span style="--shiki-light:#8BE9FD;--shiki-dark:#B8A965;">dev</span><span style="--shiki-light:#8BE9FE;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">webpack --mode=development</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">  }</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">,</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>写好代码</p><p>index.js</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">var</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> obj</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;"> require</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">./es6a</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">)</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">console</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">log</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">obj</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">);</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">console</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">log</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">obj</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">a</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> obj</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">b</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> obj</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">default</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>es6a.js</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">export</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;"> var</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> a</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#BD93F9;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">export</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;"> var</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> b</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#BD93F9;--shiki-dark:#4C9A91;"> 2</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">export</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;"> default</span><span style="--shiki-light:#BD93F9;--shiki-dark:#4C9A91;"> 3</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div>`,26)),l(n,{style:{color:"#F5222D"}},{default:p(()=>s[12]||(s[12]=[i("运行webpack : npm run dev")])),_:1}),s[54]||(s[54]=t(`<p>es6导出，commonjs导入</p><p>common:</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#B8A965;--shiki-dark-font-style:inherit;">module</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#B8A965;--shiki-dark-font-style:inherit;">exports</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#B8A965;">    a</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#BD93F9;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#B8A965;">    b</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#BD93F9;--shiki-dark:#4C9A91;"> 2</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#B8A965;">    c</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#BD93F9;--shiki-dark:#4C9A91;"> 3</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>index</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#BD93F9;--shiki-dark:#4D9375;"> *</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;"> as</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> obj</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">./commonjsa</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">// import obj from &quot;./commonjsa&quot;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">console</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">log</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">obj</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="最佳实践" tabindex="-1">最佳实践 <a class="header-anchor" href="#最佳实践" aria-label="Permalink to &quot;最佳实践&quot;">​</a></h3><p>代码编写最忌讳的是精神分裂，选择一个合适的模块化标准，然后贯彻整个开发阶段。</p><h2 id="数字特效" tabindex="-1">数字特效 <a class="header-anchor" href="#数字特效" aria-label="Permalink to &quot;数字特效&quot;">​</a></h2><h2 id="配置文件" tabindex="-1">配置文件 <a class="header-anchor" href="#配置文件" aria-label="Permalink to &quot;配置文件&quot;">​</a></h2><p>命令npx webpack打包</p><p>通过命令给与参数：npx webpack --mode=development也能完成打包、</p><p>webpack提供的cli支持很多的参数，例如<code>--mode</code>，但更多的时候，我们会使用更加灵活的配置文件来控制webpack的行为</p><p>默认情况下，webpack会读取<code>webpack.config.js</code>文件作为配置文件，但也可以通过CLI参数<code>--config</code>来指定某个配置文件</p><p>命令：npx webpack --config 123.js</p>`,14)),a("p",null,[s[15]||(s[15]=i("配置文件中")),l(n,{style:{color:"#F5222D"}},{default:p(()=>s[13]||(s[13]=[i("通过CommonJS模块导出")])),_:1}),s[16]||(s[16]=i("一个对象")),l(n,{style:{color:"#F5222D"}},{default:p(()=>s[14]||(s[14]=[i("，不能用es6（面试题）")])),_:1}),s[17]||(s[17]=i("对象中的各种属性对应不同的webpack配置"))]),l(n,{style:{"background-color":"#FADB14"}},{default:p(()=>s[18]||(s[18]=[i("因为中间打包的过程中要读取配置文件的内容")])),_:1}),l(n,{style:{"background-color":"#FADB14"}},{default:p(()=>s[19]||(s[19]=[i("打包的过程中要运行配置文件")])),_:1}),l(n,{style:{"background-color":"#FADB14"}},{default:p(()=>s[20]||(s[20]=[i("src下面main.js就算有错误，打包过程也不报错，因为打包和main.js无关")])),_:1}),s[55]||(s[55]=t('<div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#B8A965;--shiki-dark-font-style:inherit;">module</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#B8A965;--shiki-dark-font-style:inherit;">exports</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div>',1)),a("p",null,[a("strong",null,[l(n,{style:{color:"#F5222D"}},{default:p(()=>s[21]||(s[21]=[i("注意：配置文件中的代码，必须是有效的node代码")])),_:1})])]),a("p",null,[a("strong",null,[l(n,{style:{color:"#F5222D"}})])]),s[56]||(s[56]=t(`<p>当命令行参数与配置文件中的配置出现冲突时，以命令行参数为准。</p><p><strong>基本配置：</strong></p><ol><li>mode：编译模式，字符串，取值为development或production，指定编译结果代码运行的环境，会影响webpack对编译结果代码格式的处理</li></ol><p>在webpack.config.js里</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#B8A965;--shiki-dark-font-style:inherit;">module</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#B8A965;--shiki-dark-font-style:inherit;">exports</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#B8A965;">  mode</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">production</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="2"><li>entry：入口，字符串（后续会详细讲解），指定入口文件</li></ol><p>默认./src/index.js</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#B8A965;--shiki-dark-font-style:inherit;">module</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#B8A965;--shiki-dark-font-style:inherit;">exports</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#B8A965;">  entry</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">./123.js</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="3"><li>output：出口，对象（后续会详细讲解），指定编译结果文件</li></ol><p>默认./dist/main.js</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#B8A965;--shiki-dark-font-style:inherit;">module</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#B8A965;--shiki-dark-font-style:inherit;">exports</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#B8A965;">  output</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">{</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#B8A965;">    filename</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">bundle.js</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">  }</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="devtool配置" tabindex="-1">devtool配置 <a class="header-anchor" href="#devtool配置" aria-label="Permalink to &quot;devtool配置&quot;">​</a></h2><h3 id="source-map-源码地图" tabindex="-1">source map 源码地图 <a class="header-anchor" href="#source-map-源码地图" aria-label="Permalink to &quot;source map 源码地图&quot;">​</a></h3><blockquote><p>本小节的知识与 webpack 无关</p></blockquote><p>前端发展到现阶段，很多时候都不会直接运行源代码，可能需要对源代码进行合并、压缩、转换等操作，真正运行的是转换后的代码</p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/758572/1616068966946-55fa2ee6-1cd8-46a1-9093-e57c4e804398.png" alt=""></p><p>这就给调试带来了困难，因为当运行发生错误的时候，我们更加希望能看到源代码中的错误，而不是转换后代码的错误</p><blockquote><p>jquery压缩后的代码：<a href="https://code.jquery.com/jquery-3.4.1.min.js" target="_blank" rel="noreferrer">https://code.jquery.com/jquery-3.4.1.min.js</a></p></blockquote><p>为了解决这一问题，chrome浏览器率先支持了source map，其他浏览器纷纷效仿，目前，几乎所有新版浏览器都支持了source map</p><p>source map实际上是一个配置，配置中不仅记录了所有源码内容，还记录了和转换后的代码的对应关系</p><p>下面是浏览器处理source map的原理</p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/758572/1616068989695-ca5eb6b3-26cd-4266-a3af-8d0ebf0e2a84.png" alt=""></p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/758572/1616069017898-ff7c25cd-cc10-474c-9609-9510ac0e5d6c.png" alt=""></p><p><strong>最佳实践</strong>：</p>`,24)),a("ol",null,[s[25]||(s[25]=a("li",null,"source map 应在开发环境中使用，作为一种调试手段",-1)),a("li",null,[s[23]||(s[23]=i("source map ")),l(n,{style:{color:"#F5222D"}},{default:p(()=>s[22]||(s[22]=[i("不应该在生产环境中使用")])),_:1}),s[24]||(s[24]=i("，source map的文件一般较大，不仅会导致额外的网络传输，还容易暴露原始代码。即便要在生产环境中使用source map，用于调试真实的代码运行问题，也要做出一些处理规避网络传输和代码暴露的问题。"))])]),s[57]||(s[57]=t(`<h3 id="webpack中的source-map" tabindex="-1">webpack中的source map <a class="header-anchor" href="#webpack中的source-map" aria-label="Permalink to &quot;webpack中的source map&quot;">​</a></h3><p>使用 webpack 编译后的代码难以调试，可以通过 devtool 配置来<strong>优化调试体验</strong></p><p>具体的配置见文档：<a href="https://www.webpackjs.com/configuration/devtool/" target="_blank" rel="noreferrer">https://www.webpackjs.com/configuration/devtool/</a></p><p>使用开发环境：</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#B8A965;--shiki-dark-font-style:inherit;">module</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#B8A965;--shiki-dark-font-style:inherit;">exports</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#B8A965;">  mode</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">development</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><img src="https://cdn.nlark.com/yuque/0/2021/png/758572/1616070047464-d296c155-8d0d-42c8-841e-a6ff5e876ce4.png" alt="">浏览器自带</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">eval</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">var obj = null;</span><span style="--shiki-light:#FF79C6;--shiki-dark:#C99076;">\\n</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">obj.abc();</span><span style="--shiki-light:#FF79C6;--shiki-dark:#C99076;">\\n</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">console.log(</span><span style="--shiki-light:#FF79C6;--shiki-dark:#C99076;">\\&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">a module</span><span style="--shiki-light:#FF79C6;--shiki-dark:#C99076;">\\&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">)</span><span style="--shiki-light:#FF79C6;--shiki-dark:#C99076;">\\n\\n</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">//# sourceURL=webpack:///./src/a.js?</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>eval是简易版的source map</p><p>生产环境production就不行，要想有则需要 devtool 配置</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#B8A965;--shiki-dark-font-style:inherit;">module</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#B8A965;--shiki-dark-font-style:inherit;">exports</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#B8A965;">    mode</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">production</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#B8A965;">    devtool</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">eval</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div>`,10)),a("h2",F,[l(n,{style:{"background-color":"#D3ADF7"}},{default:p(()=>s[26]||(s[26]=[i("webpack 编译过程")])),_:1}),s[27]||(s[27]=i()),s[28]||(s[28]=a("a",{class:"header-anchor",href:"#webpack-编译过程","aria-label":'Permalink to "<font style="background-color:#D3ADF7;">webpack 编译过程</font>"'},"​",-1))]),s[58]||(s[58]=t('<p>webpack 的作用是将源代码编译（构建、打包）成最终代码</p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/758572/1616070817729-e378c192-9d10-483a-8936-1324a1b19529.png" alt=""></p><p>整个过程大致分为三个步骤</p><ol><li>初始化</li><li>编译</li><li>输出</li></ol><p><img src="https://cdn.nlark.com/yuque/0/2021/png/758572/1616070830256-d69214bc-f1ad-4add-a490-f727c8ed2835.png" alt=""></p><h3 id="初始化" tabindex="-1">初始化 <a class="header-anchor" href="#初始化" aria-label="Permalink to &quot;初始化&quot;">​</a></h3><p>此阶段，webpack会将<strong>CLI参数</strong>、<strong>配置文件</strong>、<strong>默认配置</strong>进行融合，形成一个最终的配置对象。</p><p>对配置的处理过程是依托一个第三方库<code>yargs</code>完成的</p><p>此阶段相对比较简单，主要是为接下来的编译阶段做必要的准备</p><p>目前，可以简单的理解为，初始化阶段主要用于产生一个最终的配置</p><h3 id="编译" tabindex="-1">编译 <a class="header-anchor" href="#编译" aria-label="Permalink to &quot;编译&quot;">​</a></h3><ol><li><strong>创建chunk</strong></li></ol>',12)),a("p",null,[s[30]||(s[30]=i("chunk是webpack在内部构建过程中的一个概念，译为")),s[31]||(s[31]=a("code",null,"块",-1)),s[32]||(s[32]=i("，它表示通过")),l(n,{style:{color:"#F5222D"}},{default:p(()=>s[29]||(s[29]=[i("某个入口找到的所有依赖的统称")])),_:1}),s[33]||(s[33]=i("。"))]),s[59]||(s[59]=t('<p>根据入口模块（默认为<code>./src/index.js</code>）创建一个chunk</p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/758572/1616070840544-9d62d50d-d898-44a1-abe4-80500ef4250f.png" alt=""></p><p>每个chunk都有至少两个属性：</p><ul><li>name：默认为main</li><li>id：唯一编号，开发环境和name相同，生产环境是一个数字，从0开始</li></ul><ol start="2"><li><strong>构建所有依赖模块</strong></li></ol><p><img src="https://cdn.nlark.com/yuque/0/2021/png/758572/1616070855880-0398d65b-fd9a-4d9f-8861-1aab52f483c9.png" alt=""></p> AST-&gt;树形结构遍历,找到所有依赖 [./src/ajjs&quot;/rc/o.js&quot; --&gt; <p><img src="https://cdn.nlark.com/yuque/0/2021/png/758572/1630672329824-2beddbc8-5043-45ed-8c5d-39200e7e3849.png" alt=""><img src="https://cdn.nlark.com/yuque/0/2021/png/758572/1630672375198-7c2b32f3-3ab8-4810-b28f-7d4c36acad8f.png" alt=""></p><p>形成表格</p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/758572/1630672460248-408bba9d-f12b-490c-96cc-0472cf574ba4.png" alt=""></p><p>递归加载./src/a.js</p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/758572/1630672585213-a0f3e404-c8f6-45d8-850d-0c4b9bdd0fe3.png" alt=""></p><p>记录下来，保存到模块列表中</p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/758572/1630672608179-5cc2d1b8-97ab-4eee-bfa9-50146e71219c.png" alt=""></p><p>递归加载./src/b.js。这里加载的b是由于a依赖b,实际上b还没有加载</p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/758572/1630672733484-6ebf0ea1-ca5f-40db-ad7f-b4e484b4c10e.png" alt=""></p><p>记录下来，保存到模块列表中</p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/758572/1630672693235-feb43230-c563-4c4f-99ac-980c602a4fd5.png" alt=""></p><p>a加载完毕，继续加载index，到了b</p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/758572/1630672832047-66c41694-cf79-4eaf-9674-b1e73a471eb9.png" alt=""></p><blockquote><p>AST在线测试工具：<a href="https://astexplorer.net/" target="_blank" rel="noreferrer">https://astexplorer.net/</a></p></blockquote><p>简图</p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/758572/1616070867512-743340dd-f142-4a04-b51f-78d2dd5883ce.png" alt=""></p><ol start="3"><li><strong>产生chunk assets</strong></li></ol><p>在第二步完成后，chunk中会产生一个模块列表，列表中包含了<strong>模块id</strong>和<strong>模块转换后的代码</strong></p><p>接下来，webpack会根据配置为chunk生成一个资源列表，即<code>chunk assets</code>，资源列表可以理解为是生成到最终文件的文件名和文件内容</p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/758572/1616070878940-07dfb974-cd0d-4685-a4f6-765772021f43.png" alt=""></p><blockquote><p>chunk hash是根据所有chunk assets的内容生成的一个hash字符串</p><p>hash：一种算法，具体有很多分类，特点是将一个任意长度的字符串转换为一个固定长度的字符串，而且可以保证原始内容不变，产生的hash字符串就不变</p></blockquote><p>简图</p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/758572/1616070889564-6990dd2c-d0be-4446-bf34-df1a96d897a1.png" alt=""></p><ol start="4"><li><strong>合并chunk assets</strong></li></ol><p>将多个chunk的assets合并到一起，并产生一个总的hash</p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/758572/1616070901529-72a7661f-2314-4a52-9c42-9060f8373bc7.png" alt=""></p><h3 id="输出" tabindex="-1">输出 <a class="header-anchor" href="#输出" aria-label="Permalink to &quot;输出&quot;">​</a></h3><p>此步骤非常简单，webpack将利用node中的fs模块（文件处理模块），根据编译产生的总的assets，生成相应的文件。</p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/758572/1616070915203-b1496f86-ff65-4cda-bac9-df3e459b79ba.png" alt=""></p><h3 id="总过程" tabindex="-1">总过程 <a class="header-anchor" href="#总过程" aria-label="Permalink to &quot;总过程&quot;">​</a></h3><p><img src="https://cdn.nlark.com/yuque/0/2021/png/758572/1616070969836-2f6c32d5-273f-47d3-b7c8-5dabeaada325.png" alt=""></p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/758572/1616070957234-f34324b7-2839-4ca3-85f8-892c1345826b.png" alt=""></p><p><strong>涉及术语</strong></p><ol><li>module：模块，分割的代码单元，webpack中的模块可以是任何内容的文件，不仅限于JS</li><li>chunk：webpack内部构建模块的块，一个chunk中包含多个模块，这些模块是从入口模块通过依赖分析得来的</li><li>bundle：chunk构建好模块后会生成chunk的资源清单，清单中的每一项就是一个bundle，可以认为bundle就是最终生成的文件</li><li>hash：最终的资源清单所有内容联合生成的hash值</li><li>chunkhash：chunk生成的资源清单内容联合生成的hash值</li><li>chunkname：chunk的名称，如果没有配置则使用main</li><li>id：通常指chunk的唯一编号，如果在开发环境下构建，和chunkname相同；如果是生产环境下构建，则使用一个从0开始的数字进行编号</li></ol><h1 id="入口和出口" tabindex="-1">入口和出口 <a class="header-anchor" href="#入口和出口" aria-label="Permalink to &quot;入口和出口&quot;">​</a></h1><p><img src="https://cdn.nlark.com/yuque/0/2021/png/758572/1630673953334-87309acd-aad7-4dce-8a6a-c463994b1faf.png" alt=""></p><blockquote><p>node内置模块 - path: <a href="https://nodejs.org/dist/latest-v12.x/docs/api/path.html" target="_blank" rel="noreferrer">https://nodejs.org/dist/latest-v12.x/docs/api/path.html</a></p></blockquote><p><strong>出口</strong></p><p>这里的出口是针对资源列表的文件名或路径的配置</p><p>出口通过output进行配置</p><p><strong>入口</strong></p><p><strong>入口真正配置的是chunk</strong></p><p>入口通过entry进行配置</p><p>规则：</p>',51)),a("ul",null,[s[38]||(s[38]=a("li",null,"name：chunkname",-1)),a("li",null,[s[35]||(s[35]=i("hash: 总的资源hash，")),l(n,{style:{color:"#F5222D"}},{default:p(()=>s[34]||(s[34]=[i("通常用于解决缓存问题。哈希就是根据文件内容生成出来的。内容变化，哈希变化。反之，就算文件内容有所改变，浏览器会用缓存，对于更新的文件无动于衷")])),_:1})]),a("li",null,[s[37]||(s[37]=i("chunkhash: 使用")),l(n,{style:{color:"#F5222D"}},{default:p(()=>s[36]||(s[36]=[i("chunkhash")])),_:1})]),s[39]||(s[39]=a("li",null,"id: 使用chunkid，不推荐。会导致生产环境和开发环境的名字不一致。",-1))]),s[60]||(s[60]=t(`<h1 id="入口和出口的最佳实践" tabindex="-1">入口和出口的最佳实践 <a class="header-anchor" href="#入口和出口的最佳实践" aria-label="Permalink to &quot;入口和出口的最佳实践&quot;">​</a></h1><p>具体情况具体分析</p><p>下面是一些经典场景</p><h2 id="一个页面一个js" tabindex="-1">一个页面一个JS <a class="header-anchor" href="#一个页面一个js" aria-label="Permalink to &quot;一个页面一个JS&quot;">​</a></h2><p><img src="https://cdn.nlark.com/yuque/0/2021/png/758572/1630673991535-9aaa9a57-92da-47e5-b24b-9833101a1a66.png" alt=""></p><p>源码结构</p><div class="language-plain vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">plain</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span>|—— src</span></span>
<span class="line"><span>    |—— pageA   页面A的代码目录</span></span>
<span class="line"><span>        |—— index.js 页面A的启动模块</span></span>
<span class="line"><span>        |—— ...</span></span>
<span class="line"><span>    |—— pageB   页面B的代码目录</span></span>
<span class="line"><span>        |—— index.js 页面B的启动模块</span></span>
<span class="line"><span>        |—— ...</span></span>
<span class="line"><span>    |—— pageC   页面C的代码目录</span></span>
<span class="line"><span>        |—— main1.js 页面C的启动模块1 例如：主功能</span></span>
<span class="line"><span>        |—— main2.js 页面C的启动模块2 例如：实现访问统计的额外功能</span></span>
<span class="line"><span>        |—— ...</span></span>
<span class="line"><span>    |—— common  公共代码目录</span></span>
<span class="line"><span>        |—— ...</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>webpack配置</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#B8A965;--shiki-dark-font-style:inherit;">module</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#B8A965;--shiki-dark-font-style:inherit;">exports</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#B8A965;">    entry</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">{</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#B8A965;">        pageA</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">./src/pageA/index.js</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#B8A965;">        pageB</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">./src/pageB/index.js</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#B8A965;">        pageC</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> [</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">./src/pageC/main1.js</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">./src/pageC/main2.js</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">]</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">    },</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#B8A965;">    output</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">{</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#B8A965;">        filename</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">[name].[chunkhash:5].js</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">    }</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>这种方式适用于页面之间的功能差异巨大、公共代码较少的情况，这种情况下打包出来的最终代码不会有太多重复</p><blockquote><p>面试题：打包出来的js，里面会有公共代码，这里代码的重复会造成什么影响？</p></blockquote>`,11)),l(n,{style:{color:"#BFBFBF"}},{default:p(()=>s[40]||(s[40]=[i("不好维护。并不存在这种问题，因为写的并不是打包出来的js。自己写的并没有重复代码。")])),_:1}),s[61]||(s[61]=t(`<p>导致传输量增加。</p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/758572/1630717797021-d6fc59db-0de2-48a3-88a0-0ea66bb2825e.png" alt=""><img src="https://cdn.nlark.com/yuque/0/2021/png/758572/1630717820729-a416a7a0-3042-4078-9b7e-875c7d603d39.png" alt=""></p><h2 id="一个页面多个js" tabindex="-1">一个页面多个JS <a class="header-anchor" href="#一个页面多个js" aria-label="Permalink to &quot;一个页面多个JS&quot;">​</a></h2><p><img src="https://cdn.nlark.com/yuque/0/2021/png/758572/1630674004010-edb40db2-6454-499a-aa87-6dd70e82d5a2.png" alt=""></p><p>源码结构</p><div class="language-plain vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">plain</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span>|—— src</span></span>
<span class="line"><span>    |—— pageA   页面A的代码目录</span></span>
<span class="line"><span>        |—— index.js 页面A的启动模块</span></span>
<span class="line"><span>        |—— ...</span></span>
<span class="line"><span>    |—— pageB   页面B的代码目录</span></span>
<span class="line"><span>        |—— index.js 页面B的启动模块</span></span>
<span class="line"><span>        |—— ...</span></span>
<span class="line"><span>    |—— statistics   用于统计访问人数功能目录</span></span>
<span class="line"><span>        |—— index.js 启动模块</span></span>
<span class="line"><span>        |—— ...</span></span>
<span class="line"><span>    |—— common  公共代码目录</span></span>
<span class="line"><span>        |—— ...</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>webpack配置</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#B8A965;--shiki-dark-font-style:inherit;">module</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#B8A965;--shiki-dark-font-style:inherit;">exports</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#B8A965;">    entry</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">{</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#B8A965;">        pageA</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">./src/pageA/index.js</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#B8A965;">        pageB</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">./src/pageB/index.js</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#B8A965;">        statistics</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">./src/statistics/index.js</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">//statistics和AB都没关系，可以单独开一个chunk</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">    },</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#B8A965;">    output</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">{</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#B8A965;">        filename</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">[name].[chunkhash:5].js</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">    }</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>这种方式适用于页面之间有一些<strong>独立</strong>、相同的功能，专门使用一个chunk抽离这部分JS有利于浏览器更好的缓存这部分内容。</p><blockquote><p>思考：为什么不使用多启动模块的方式？</p></blockquote><h2 id="单页应用" tabindex="-1">单页应用 <a class="header-anchor" href="#单页应用" aria-label="Permalink to &quot;单页应用&quot;">​</a></h2><p>所谓单页应用，是指整个网站（或网站的某一个功能块）只有一个页面，页面中的内容全部靠JS创建和控制。 vue和react都是实现单页应用的利器。</p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/758572/1630674016988-6a8a05b5-b4bf-41d0-bcfd-99cf748de49c.png" alt=""></p><p>源码结构</p><div class="language-plain vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">plain</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span>|—— src</span></span>
<span class="line"><span>    |—— subFunc   子功能目录</span></span>
<span class="line"><span>        |—— ...</span></span>
<span class="line"><span>    |—— subFunc   子功能目录</span></span>
<span class="line"><span>        |—— ...</span></span>
<span class="line"><span>    |—— common  公共代码目录</span></span>
<span class="line"><span>        |—— ...</span></span>
<span class="line"><span>    |—— index.js</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>webpack配置</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#B8A965;--shiki-dark-font-style:inherit;">module</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#B8A965;--shiki-dark-font-style:inherit;">exports</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#B8A965;">    entry</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">./src/index.js</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#B8A965;">    output</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">{</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#B8A965;">        filename</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">index.[hash:5].js</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">    }</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h1 id="loader" tabindex="-1">loader <a class="header-anchor" href="#loader" aria-label="Permalink to &quot;loader&quot;">​</a></h1><blockquote><p>webpack做的事情，仅仅是分析出各种模块的依赖关系，然后形成资源列表，最终打包生成到指定的文件中。<br> 更多的功能需要借助webpack loaders和webpack plugins完成。</p></blockquote><p>webpack loader： loader本质上是一个函数，它的作用是将某个源码字符串转换成另一个源码字符串返回。</p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/758572/1630719057500-fcb0fdb3-a0e6-448d-b41d-7337e4c3c684.png" alt=""></p><p>loader函数的将在模块解析的过程中被调用，以得到最终的源码。</p><p><strong>全流程：</strong></p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/758572/1630719066763-b6fe23ea-173d-4950-b5f8-3b9ecf175c89.png" alt=""></p><p><strong>chunk中解析模块的流程：</strong></p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/758572/1630719077379-9c8fae47-9759-42da-a085-31f5d5a215fb.png" alt=""></p><p><strong>chunk中解析模块的更详细流程：</strong></p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/758572/1630719087851-501003a3-78cd-4b7b-8f9a-abae313439bc.png" alt=""></p><p><strong>处理loaders流程：</strong></p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/758572/1630719098155-7265c03f-6b39-4ad3-bcf5-1056118759f8.png" alt=""></p><p><strong>loader配置：</strong></p><p><strong>完整配置</strong></p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#B8A965;--shiki-dark-font-style:inherit;">module</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#B8A965;--shiki-dark-font-style:inherit;">exports</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#B8A965;">    module</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;"> //针对模块的配置，目前版本只有两个配置，rules、noParse</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#B8A965;">        rules</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> [</span><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;"> //模块匹配规则，可以存在多个规则</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">            {</span><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;"> //每个规则是一个对象</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#B8A965;">                test</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#FF5555;--shiki-dark:#C98A7D77;"> /</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#E6CC77;">\\.</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C4704F;">js</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">$</span><span style="--shiki-light:#FF5555;--shiki-dark:#C98A7D77;">/</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;"> //匹配的模块正则</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#B8A965;">                use</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> [</span><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;"> //匹配到后应用的规则模块</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">                    {</span><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">  //其中一个规则</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#B8A965;">                        loader</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">模块路径</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;"> //loader模块的路径，该字符串会被放置到require中</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#B8A965;">                        options</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;"> //向对应loader传递的额外参数</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">                        }</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">                    }</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">                ]</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">            }</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">        ]</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">    }</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p><strong>简化配置</strong></p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#B8A965;--shiki-dark-font-style:inherit;">module</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#B8A965;--shiki-dark-font-style:inherit;">exports</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#B8A965;">    module</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;"> //针对模块的配置，目前版本只有两个配置，rules、noParse</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#B8A965;">        rules</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> [</span><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;"> //模块匹配规则，可以存在多个规则</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">            {</span><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;"> //每个规则是一个对象</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#B8A965;">                test</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#FF5555;--shiki-dark:#C98A7D77;"> /</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#E6CC77;">\\.</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C4704F;">js</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">$</span><span style="--shiki-light:#FF5555;--shiki-dark:#C98A7D77;">/</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;"> //匹配的模块正则</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#B8A965;">                use</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> [</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">模块路径1</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">模块路径2</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">]</span><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">//loader模块的路径，该字符串会被放置到require中</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">            }</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">        ]</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">    }</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h1 id="plugin" tabindex="-1">plugin <a class="header-anchor" href="#plugin" aria-label="Permalink to &quot;plugin&quot;">​</a></h1><p>loader的功能定位是转换代码，而一些其他的操作难以使用loader完成，比如：</p><ul><li>当webpack生成文件时，顺便多生成一个说明描述文件</li><li>当webpack编译启动时，控制台输出一句话表示webpack启动了</li><li>当xxxx时，xxxx</li></ul><p>这种类似的功能需要把功能嵌入到webpack的编译流程中，而这种事情的实现是依托于plugin的</p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/758572/1630741194396-5a27c75c-8cd7-4178-b57d-641fb231f739.png" alt=""></p><p>plugin的<strong>本质</strong>是一个带有apply方法的对象</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">var</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> plugin</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">    apply</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;"> function</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#FFB86C;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;">compiler</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">){</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">        </span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">    }</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>通常，习惯上，我们会将该对象写成构造函数的模式</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">class</span><span style="--shiki-light:#8BE9FD;--shiki-dark:#5DA994;"> MyPlugin</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">{</span></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">    apply</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#FFB86C;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;">compiler</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">){</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">    }</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">var</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> plugin</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#FF79C6;--shiki-light-font-weight:bold;--shiki-dark:#CB7676;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;"> MyPlugin</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">();</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>要将插件应用到webpack，需要把插件对象配置到webpack的plugins数组中，如下：</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#B8A965;--shiki-dark-font-style:inherit;">module</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#B8A965;--shiki-dark-font-style:inherit;">exports</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#B8A965;">    plugins</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">[</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-light-font-weight:bold;--shiki-dark:#CB7676;--shiki-dark-font-weight:inherit;">        new</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;"> MyPlugin</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">()</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">    ]</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div>`,46)),l(n,{style:{color:"#F5222D"}},{default:p(()=>s[41]||(s[41]=[i("apply函数会在初始化阶段，创建好Compiler对象后运行。")])),_:1}),s[62]||(s[62]=t(`<p>compiler对象是在初始化阶段构建的，整个webpack打包期间只有一个compiler对象，后续完成打包工作的是compiler对象内部创建的compilation</p><p>apply方法会在<strong>创建好compiler对象后调用</strong>，并向方法传入一个compiler对象</p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/758572/1630741209865-85b083eb-ae75-48ab-ae34-93234bf5e768.png" alt=""></p><blockquote><p>compiler只有一个，compilation可能多个</p></blockquote><p>compiler对象提供了大量的钩子函数（hooks，可以理解为事件），plugin的开发者可以注册这些钩子函数，参与webpack编译和生成。</p><p>你可以在apply方法中使用下面的代码注册钩子函数:</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">class</span><span style="--shiki-light:#8BE9FD;--shiki-dark:#5DA994;"> MyPlugin</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">{</span></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">    apply</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#FFB86C;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;">compiler</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">){</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">        compiler</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">hooks</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">事件名称</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">事件类型</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">name</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;"> function</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#FFB86C;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;">compilation</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">){</span></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">            //事件处理函数</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">        })</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">    }</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>事件名称</strong></p><p>即要监听的事件名，即钩子名，所有的钩子：<a href="https://www.webpackjs.com/api/compiler-hooks" target="_blank" rel="noreferrer">https://www.webpackjs.com/api/compiler-hooks</a></p><p><strong>事件类型</strong></p><p>这一部分使用的是 Tapable API，这个小型的库是一个专门用于钩子函数监听的库。</p><p>它提供了一些事件类型：</p><ul><li>tap：注册一个同步的钩子函数，函数运行完毕则表示事件处理结束</li><li>tapAsync：注册一个基于回调的异步的钩子函数，函数通过调用一个回调表示事件处理结束</li><li>tapPromise：注册一个基于Promise的异步的钩子函数，函数通过返回的Promise进入已决状态表示事件处理结束</li></ul><p><strong>处理函数</strong></p><p>处理函数有一个事件参数<code>compilation</code></p><h1 id="区分环境" tabindex="-1">区分环境 <a class="header-anchor" href="#区分环境" aria-label="Permalink to &quot;区分环境&quot;">​</a></h1><p>有些时候，我们需要针对生产环境和开发环境分别书写webpack配置</p><p>以前可以用这种方式来区分：</p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/758572/1630743572364-0d743bc8-5f19-4251-ba6e-0d1db50cb472.png" alt=""></p><p>为了更好的适应这种要求，webpack允许配置不仅可以是一个对象，还可以是一个<strong>函数</strong></p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#B8A965;--shiki-dark-font-style:inherit;">module</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#B8A965;--shiki-dark-font-style:inherit;">exports</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#FFB86C;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;"> env</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =&gt;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">    return</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">        //配置内容</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">    }</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>在开始构建时，webpack如果发现配置是一个函数，会调用该函数，将函数返回的对象作为配置内容，因此，开发者可以根据不同的环境返回不同的对象</p><p>在调用webpack函数时，webpack会向函数传入一个参数env，该参数的值来自于webpack命令中给env指定的值，例如</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">npx</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;"> webpack</span><span style="--shiki-light:#BD93F9;--shiki-dark:#C99076;"> --env</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;"> abc</span><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;"> # env: &quot;abc&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">npx</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;"> webpack</span><span style="--shiki-light:#BD93F9;--shiki-dark:#C99076;"> --env.abc</span><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;"> # env: {abc:true}</span></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">npx</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;"> webpack</span><span style="--shiki-light:#BD93F9;--shiki-dark:#C99076;"> --env.abc=1</span><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">  # env： {abc:1}</span></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">npx</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;"> webpack</span><span style="--shiki-light:#BD93F9;--shiki-dark:#C99076;"> --env.abc=1</span><span style="--shiki-light:#BD93F9;--shiki-dark:#C99076;"> --env.bcd=2</span><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;"> # env: {abc:1, bcd:2}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>这样一来，我们就可以在命令中指定环境，在代码中进行判断，根据环境返回不同的配置结果。</p><h1 id="其他细节配置" tabindex="-1">其他细节配置 <a class="header-anchor" href="#其他细节配置" aria-label="Permalink to &quot;其他细节配置&quot;">​</a></h1><h2 id="context" tabindex="-1">context <a class="header-anchor" href="#context" aria-label="Permalink to &quot;context&quot;">​</a></h2><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#80A665;">context</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">:</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> path</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">resolve</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">__dirname</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">app</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>该配置会影响入口和loaders的解析，入口和loaders的相对路径会以context的配置作为基准路径，这样，你的配置会独立于CWD（current working directory 当前执行路径）</p><h2 id="output" tabindex="-1">output <a class="header-anchor" href="#output" aria-label="Permalink to &quot;output&quot;">​</a></h2><h3 id="library" tabindex="-1">library <a class="header-anchor" href="#library" aria-label="Permalink to &quot;library&quot;">​</a></h3><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#80A665;">library</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">:</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">abc</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>这样一来，打包后的结果中，会将自执行函数的执行结果暴露给abc</p><h3 id="librarytarget" tabindex="-1">libraryTarget <a class="header-anchor" href="#librarytarget" aria-label="Permalink to &quot;libraryTarget&quot;">​</a></h3><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#80A665;">libraryTarget</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">:</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">var</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>该配置可以更加精细的控制如何暴露入口包的导出结果</p><p>其他可用的值有：</p><ul><li>var：默认值，暴露给一个普通变量</li><li>window：暴露给window对象的一个属性</li><li>this：暴露给this的一个属性</li><li>global：暴露给global的一个属性</li><li>commonjs：暴露给exports的一个属性</li><li>其他：<a href="https://www.webpackjs.com/configuration/output/#output-librarytarget" target="_blank" rel="noreferrer">https://www.webpackjs.com/configuration/output/#output-librarytarget</a></li></ul><h2 id="target" tabindex="-1">target <a class="header-anchor" href="#target" aria-label="Permalink to &quot;target&quot;">​</a></h2><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#80A665;">target</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">:</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">web</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;"> //默认值</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>设置打包结果最终要运行的环境，常用值有</p><ul><li>web: 打包后的代码运行在web环境中</li><li>node：打包后的代码运行在node环境中</li><li>其他：<a href="https://www.webpackjs.com/configuration/target/" target="_blank" rel="noreferrer">https://www.webpackjs.com/configuration/target/</a></li></ul><h2 id="module-noparse" tabindex="-1">module.noParse <a class="header-anchor" href="#module-noparse" aria-label="Permalink to &quot;module.noParse&quot;">​</a></h2><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#80A665;">noParse</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">:</span><span style="--shiki-light:#FF5555;--shiki-dark:#C98A7D77;"> /</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C4704F;">jquery</span><span style="--shiki-light:#FF5555;--shiki-dark:#C98A7D77;">/</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div>`,44)),a("p",null,[s[43]||(s[43]=i("不解析正则表达式匹配的模块，通常用它来忽略那些")),l(n,{style:{color:"#F5222D"}},{default:p(()=>s[42]||(s[42]=[i("大型的单模块库")])),_:1}),s[44]||(s[44]=i("，以提高")),s[45]||(s[45]=a("strong",null,"构建性能。和运行性能无关。",-1))]),s[63]||(s[63]=t('<h2 id="resolve" tabindex="-1">resolve <a class="header-anchor" href="#resolve" aria-label="Permalink to &quot;resolve&quot;">​</a></h2><p>resolve的相关配置主要用于控制模块解析过程</p><h3 id="modules" tabindex="-1">modules <a class="header-anchor" href="#modules" aria-label="Permalink to &quot;modules&quot;">​</a></h3><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#80A665;">modules</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">:</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> [</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">node_modules</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">]</span><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">  //默认值。可以自行配置更改</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>当解析模块时，如果遇到导入语句，<code>require(&quot;test&quot;)</code>，webpack会从下面的位置寻找依赖的模块</p><ol><li>当前目录下的<code>node_modules</code>目录</li><li>上级目录下的<code>node_modules</code>目录</li><li>...</li></ol><h3 id="extensions" tabindex="-1">extensions <a class="header-anchor" href="#extensions" aria-label="Permalink to &quot;extensions&quot;">​</a></h3><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#80A665;">extensions</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">:</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> [</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">.js</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">.json</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">]</span><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">  //默认值</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div>',8)),l(n,{style:{color:"#F5222D"}},{default:p(()=>s[46]||(s[46]=[i("当解析模块时，遇到无具体后缀的导入语句，例如")])),_:1}),s[64]||(s[64]=i("`")),l(n,{style:{color:"#F5222D"}},{default:p(()=>s[47]||(s[47]=[i('require("test")')])),_:1}),s[65]||(s[65]=i("`")),l(n,{style:{color:"#F5222D"}},{default:p(()=>s[48]||(s[48]=[i("，会依次测试它的后缀名")])),_:1}),l(n,{style:{color:"#F5222D"}},{default:p(()=>s[49]||(s[49]=[i("webpack自动补全后缀名，而不是node")])),_:1}),s[66]||(s[66]=t(`<ul><li>test.js</li><li>test.json</li></ul><h3 id="alias" tabindex="-1">alias <a class="header-anchor" href="#alias" aria-label="Permalink to &quot;alias&quot;">​</a></h3><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#80A665;">alias</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">:</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">  &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">@</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">: </span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">path</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">resolve</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">__dirname</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">src</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">),</span></span>
<span class="line"><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">  &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">_</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">: </span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">__dirname</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>有了alias（别名）后，导入语句中可以加入配置的键名，例如<code>require(&quot;@/abc.js&quot;)</code>，webpack会将其看作是<code>require(src的绝对路径+&quot;/abc.js&quot;)</code>。</p><p>在大型系统中，源码结构往往比较深和复杂，别名配置可以让我们更加方便的导入依赖</p><h2 id="externals" tabindex="-1">externals <a class="header-anchor" href="#externals" aria-label="Permalink to &quot;externals&quot;">​</a></h2><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#80A665;">externals</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">:</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#80A665;">    jquery</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">:</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">$</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#80A665;">    lodash</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">:</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">_</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>从最终的bundle中排除掉配置的配置的源码，例如，入口模块是</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">//index.jsrequire(&quot;jquery&quot;)require(&quot;lodash&quot;)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>生成的bundle是：</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">function</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(){</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">    ...</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">})({</span></span>
<span class="line"><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">    &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">./src/index.js</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;"> function</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#FFB86C;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;">module</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span><span style="--shiki-light:#FFB86C;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;"> exports</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span><span style="--shiki-light:#FFB86C;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;"> __webpack_require__</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">){</span></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">        __webpack_require__</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">jquery</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">)</span></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">        __webpack_require__</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">lodash</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">)</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">    },</span></span>
<span class="line"><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">    &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">jquery</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;"> function</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#FFB86C;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;">module</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span><span style="--shiki-light:#FFB86C;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;"> exports</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">){</span></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">        //jquery的大量源码</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">    },</span></span>
<span class="line"><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">    &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">lodash</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;"> function</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#FFB86C;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;">module</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span><span style="--shiki-light:#FFB86C;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;"> exports</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">){</span></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">        //lodash的大量源码</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">    },</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">})</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>但有了上面的配置后，则变成了</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">function</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(){</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">    ...</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">})({</span></span>
<span class="line"><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">    &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">./src/index.js</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;"> function</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#FFB86C;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;">module</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span><span style="--shiki-light:#FFB86C;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;"> exports</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span><span style="--shiki-light:#FFB86C;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;"> __webpack_require__</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">){</span></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">        __webpack_require__</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">jquery</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">)</span></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">        __webpack_require__</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">lodash</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">)</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">    },</span></span>
<span class="line"><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">    &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">jquery</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;"> function</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#FFB86C;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;">module</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span><span style="--shiki-light:#FFB86C;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;"> exports</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">){</span></span>
<span class="line"><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#B8A965;--shiki-dark-font-style:inherit;">        module</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#B8A965;--shiki-dark-font-style:inherit;">exports</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> $</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">    },</span></span>
<span class="line"><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">    &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">lodash</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;"> function</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#FFB86C;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;">module</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span><span style="--shiki-light:#FFB86C;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;"> exports</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">){</span></span>
<span class="line"><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#B8A965;--shiki-dark-font-style:inherit;">        module</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#B8A965;--shiki-dark-font-style:inherit;">exports</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> _</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">    },</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">})</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>这比较适用于一些第三方库来自于外部CDN的情况，这样一来，即可以在页面中使用CDN，又让bundle的体积变得更小，还不影响源码的编写</p><h2 id="stats" tabindex="-1">stats <a class="header-anchor" href="#stats" aria-label="Permalink to &quot;stats&quot;">​</a></h2><p>stats控制的是构建过程中控制台的输出内容</p><p>好东西</p><p><a href="https://www.tailwindcss.cn/" target="_blank" rel="noreferrer">https://www.tailwindcss.cn/</a></p><p><a href="https://tailwindcss.com/" target="_blank" rel="noreferrer">https://tailwindcss.com/</a></p><p><a href="https://tailwindcss.com/docs%E6%96%87%E6%A1%A3" target="_blank" rel="noreferrer">https://tailwindcss.com/docs文档</a></p><p><a href="https://play.tailwindcss.com/?ref=producthunt" target="_blank" rel="noreferrer">https://play.tailwindcss.com/?ref=producthunt</a></p><div class="language-html vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&lt;</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">div</span><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;"> class</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">=</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">w-full h-full bg-red-400 fixed</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;&lt;/</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">div</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">&lt;!-- 本身不能设置高度，高度相对于父元素，变成绝对定位才可以 --&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-html vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&lt;</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">div</span><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;"> class</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">=</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">w-full h-full flex bg-red-400 fixed</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">    &lt;</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">div</span><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;"> class</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">=</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">w-60 bg-gray-800 h-full</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;&lt;/</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">div</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">    &lt;!-- &lt;div class=&quot;w-60 bg-blue-200 h-full&quot;&gt;&lt;/div&gt; --&gt;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">    &lt;</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">div</span><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;"> class</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">=</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">bg-blue-200 h-full flex-grow</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;&lt;/</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">div</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">    &lt;!-- 宽度自动增长 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&lt;/</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">div</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-html vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&lt;!</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">DOCTYPE</span><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;"> html</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&lt;</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">html</span><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;"> lang</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">=</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">en</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">    &lt;</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">head</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">        &lt;</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">meta</span><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;"> charset</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">=</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">UTF-8</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">        &lt;</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">meta</span><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;"> name</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">=</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">viewport</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;"> content</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">=</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">width=device-width, initial-scale=1.0</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">        &lt;</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">title</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">Document</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&lt;/</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">title</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">    &lt;/</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">head</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">    &lt;</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">body</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">        &lt;</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">div</span><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;"> class</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">=</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">w-full h-full flex bg-red-400 fixed</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">            &lt;</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">div</span><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;"> class</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">=</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">w-60 bg-gray-800 h-full text-gray-50</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">                &lt;</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">h1</span><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;"> class</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">=</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">font-bold text-2xl text-center my-5</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">Logo</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&lt;/</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">h1</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">                &lt;</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">ul</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">                    &lt;</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">li</span><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;"> class</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">=</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">text-center py-4 text-green-50 hover:text-green-300 hover:bg-gray-900</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;&lt;</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">a</span><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;"> href</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">=</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">Lorem.</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&lt;/</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">a</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;&lt;/</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">li</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">                    &lt;</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">li</span><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;"> class</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">=</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">text-center py-4 text-green-50 hover:text-green-300 hover:bg-gray-900</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;&lt;</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">a</span><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;"> href</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">=</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">Earum.</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&lt;/</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">a</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;&lt;/</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">li</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">                    &lt;</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">li</span><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;"> class</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">=</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">text-center py-4 text-green-50 hover:text-green-300 hover:bg-gray-900</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;&lt;</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">a</span><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;"> href</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">=</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">Eveniet?</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&lt;/</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">a</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;&lt;/</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">li</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">                    &lt;</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">li</span><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;"> class</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">=</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">text-center py-4 text-green-50 hover:text-green-300 hover:bg-gray-900</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;&lt;</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">a</span><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;"> href</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">=</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">Veniam.</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&lt;/</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">a</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;&lt;/</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">li</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">                    &lt;</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">li</span><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;"> class</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">=</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">text-center py-4 text-green-50 hover:text-green-300 hover:bg-gray-900</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;&lt;</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">a</span><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;"> href</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">=</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">Dolore!</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&lt;/</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">a</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;&lt;/</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">li</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">                &lt;/</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">ul</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">            &lt;/</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">div</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">            &lt;</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">div</span><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;"> class</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">=</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">bg-blue-200 h-full flex-grow</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;&lt;/</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">div</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">        &lt;/</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">div</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">    &lt;/</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">body</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&lt;/</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">html</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>配合postcss使用的</p><p>vscode插件：</p><p>智能提示：tailwind css intellisense</p><p>查看文档：tailwind docs</p><h1 id="技术拓展" tabindex="-1">技术拓展 <a class="header-anchor" href="#技术拓展" aria-label="Permalink to &quot;技术拓展&quot;">​</a></h1><p><a href="https://www.tailwindcss.cn/docs" target="_blank" rel="noreferrer">https://www.tailwindcss.cn/docs</a></p><p><a href="https://github.com/yjisme/boilerplate-tranditional-proj" target="_blank" rel="noreferrer">https://github.com/yjisme/boilerplate-tranditional-proj</a></p><p>vscode插件：Tailwind css intellisense智能提示</p><p><a href="https://quasar.dev/" target="_blank" rel="noreferrer">https://quasar.dev/</a></p>`,33))])}const D=e(d,[["render",o]]);export{A as __pageData,D as default};
