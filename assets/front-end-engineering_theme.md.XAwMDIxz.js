import{_ as i}from"./chunks/plugin-vue_export-helper.DlAUqK2U.js";import{c as a,o as n,X as l}from"./chunks/vendor-vueuse.XPft87tp.js";const y=JSON.parse('{"title":"主题切换","description":"","frontmatter":{},"headers":[],"relativePath":"front-end-engineering/theme.md","filePath":"front-end-engineering/theme.md","lastUpdated":1771466668000}'),h={name:"front-end-engineering/theme.md"};function p(k,s,t,e,F,r){return n(),a("div",null,s[0]||(s[0]=[l(`<h1 id="主题切换" tabindex="-1">主题切换 <a class="header-anchor" href="#主题切换" aria-label="Permalink to &quot;主题切换&quot;">​</a></h1><p><strong>思路：</strong></p><p>前端主题切换，其实就是切换 css</p><p>而且，css 中变换最大的，就是颜色相关的属性，图片，icon....</p><h2 id="前端工程中样式切换的解决方案" tabindex="-1">前端工程中样式切换的解决方案 <a class="header-anchor" href="#前端工程中样式切换的解决方案" aria-label="Permalink to &quot;前端工程中样式切换的解决方案&quot;">​</a></h2><p><strong>1、css 变量 + css 样式【data-set [data-name=&#39;dark&#39;]】class=&#39;dark&#39;</strong></p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">primary</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">{</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">  --</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">vt</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">c</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#80A665;">bg</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">:</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">#</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">fff</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">dark</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">{</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">  --</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">vt</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">c</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#80A665;">bg</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">:</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">#</span><span style="--shiki-light:#BD93F9;--shiki-dark:#4C9A91;">000</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">可以使用js</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">，</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">点击某个按钮之后</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">，</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">切换根元素的css样式</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">，</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">样式切换之后</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">，</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">意味着css变量的值改变了</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">layer</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">{</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">  background</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#80A665;">color</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">:</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">var</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">(--</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">vt</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">-c-bg)</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>css 变量，是当我们点击某个按钮的时候做切换，可能如果变换比较大内容较多，会出现白屏的情况</p><p><strong>2、css 预处理器(scss,less,styuls...) + css 样式 [data-set]</strong></p><p>就是使用 css 预处理器强大的预编译功能，简单来说，就是把 css 先写好</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">html</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">primary</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> .</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">layer</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">{</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#80A665;">  color</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">:</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">#</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">fff</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">html</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">dark</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> .</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">layer</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">{</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#80A665;">  color</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">:</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">#</span><span style="--shiki-light:#BD93F9;--shiki-dark:#4C9A91;">000</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">}</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">html</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">primary</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> .</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">container</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">{}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">html</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">dark</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> .</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">container</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">{}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">html</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">primary</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> .</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">link</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">:</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">hover</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">{}</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">html</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">dark</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> .</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">link</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">:</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">hover</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">{}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>css 预编译器，一开始，把所有的主题样式涉及到的内容全部写好，当切换的时候，就直接切换了</p><p>这种的方式，可能牺牲的是，一开始的白屏时间</p><h2 id="通过-css-变量实现主题切换及工程化处理" tabindex="-1">通过 css 变量实现主题切换及工程化处理 <a class="header-anchor" href="#通过-css-变量实现主题切换及工程化处理" aria-label="Permalink to &quot;通过 css 变量实现主题切换及工程化处理&quot;">​</a></h2><h3 id="使用持久化存储" tabindex="-1">使用持久化存储 <a class="header-anchor" href="#使用持久化存储" aria-label="Permalink to &quot;使用持久化存储&quot;">​</a></h3><p><strong>1、安装 pinia 和持久化插件</strong></p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">npm</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> install</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> pinia</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> pinia</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">plugin</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">persistedstate</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>2、创建 pinia</strong></p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">//stores/index.ts</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> createPinia</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> }</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">pinia</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> piniaPluginPersistedstate</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">pinia-plugin-persistedstate</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">// pinia persist</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> pinia</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;"> createPinia</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">();</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">pinia</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">use</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">piniaPluginPersistedstate</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">export</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;"> default</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> pinia</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>3、main.ts 中引用</strong></p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> createApp</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> }</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">vue</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">./style.css</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> App</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">./App.vue</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">// pinia store</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> pinia</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">@/stores</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">createApp</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">App</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">).</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">use</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">pinia</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">).</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">mount</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">#app</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>4、设置 pinia 持久化配置</strong></p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">// config/piniaPersist.ts</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> PersistedStateOptions</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> }</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">pinia-plugin-persistedstate</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">/**</span></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;"> * </span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">@</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">description</span><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;"> pinia 持久化参数配置</span></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;"> * </span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">@</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">param</span><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#444444;--shiki-dark-font-style:inherit;"> {</span><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#5DA994;--shiki-dark-font-style:inherit;">String</span><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#444444;--shiki-dark-font-style:inherit;">}</span><span style="--shiki-light:#FFB86C;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;"> key</span><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;"> 存储到持久化的 name</span></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;"> * </span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">@</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">param</span><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#444444;--shiki-dark-font-style:inherit;"> {</span><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#5DA994;--shiki-dark-font-style:inherit;">Array</span><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#444444;--shiki-dark-font-style:inherit;">}</span><span style="--shiki-light:#FFB86C;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;"> paths</span><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;"> 需要持久化的 state name</span></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;"> * </span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">@</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">return</span><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;"> persist</span></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;"> * */</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;"> piniaPersistConfig</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> (</span><span style="--shiki-light:#FFB86C;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;">key</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#5DA994;--shiki-dark-font-style:inherit;"> string</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span><span style="--shiki-light:#FFB86C;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;"> paths</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">?</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#5DA994;--shiki-dark-font-style:inherit;"> string</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">[])</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =&gt;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">  const</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> persist</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#5DA994;--shiki-dark-font-style:inherit;"> PersistedStateOptions</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">    key</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#B8A965;">    storage</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> localStorage</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">    // storage: sessionStorage,</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">    paths</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">  };</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">  return</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> persist</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">export</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;"> default</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> piniaPersistConfig</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p><strong>5、创建 global.ts</strong></p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> defineStore</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> }</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">pinia</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> piniaPersistConfig</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">@/config/piniaPersist</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> GlobalState</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> ObjToKeyValArray</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> }</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">@/stores/interface</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">export</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;"> const</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> useGlobalStore</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;"> defineStore</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">({</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#B8A965;">  id</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">dy-global</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">  // 修改默认值之后，需清除 localStorage 数据</span></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">  state</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> ()</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#5DA994;--shiki-dark-font-style:inherit;"> GlobalState</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =&gt;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> ({</span></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">    // 深色模式</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#B8A965;">    isDark</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#BD93F9;--shiki-dark:#4D9375;"> false</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">  }),</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#B8A965;">  persist</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;"> piniaPersistConfig</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">dy-global</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">),</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>6、设置 actions 统一的的函数</strong></p><div class="language-diff vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">diff</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">import { defineStore } from &quot;pinia&quot;;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">import piniaPersistConfig from &quot;@/config/piniaPersist&quot;;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">import { GlobalState,ObjToKeyValArray } from &quot;@/stores/interface&quot;;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">export const useGlobalStore = defineStore({</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">  id: &quot;dy-global&quot;,</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">  // 修改默认值之后，需清除 localStorage 数据</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">  state: ():GlobalState =&gt; ({</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">    // 深色模式</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">    isDark: false,</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">  }),</span></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-dark:#85E89D;">+  actions: {</span></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-dark:#85E89D;">+    // Set GlobalState</span></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-dark:#85E89D;">+    setGlobalState(...args: ObjToKeyValArray&lt;GlobalState&gt;) {</span></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-dark:#85E89D;">+      this.$patch({ [args[0]]: args[1] });</span></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-dark:#85E89D;">+    }</span></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-dark:#85E89D;">+  },</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">  persist: piniaPersistConfig(&quot;dy-global&quot;)</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p><strong>7、setGlobalState 函数参数的设定</strong></p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">export</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;"> interface</span><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#5DA994;--shiki-dark-font-style:inherit;"> GlobalState</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">  isDark</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#5DA994;--shiki-dark-font-style:inherit;"> boolean</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">}</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">export</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;"> type</span><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#5DA994;--shiki-dark-font-style:inherit;"> ObjToKeyValArray</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&lt;</span><span style="--shiki-light:#FFB86C;--shiki-light-font-style:italic;--shiki-dark:#5DA994;--shiki-dark-font-style:inherit;">T</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">  [</span><span style="--shiki-light:#FFB86C;--shiki-light-font-style:italic;--shiki-dark:#5DA994;--shiki-dark-font-style:inherit;">K</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;"> in</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;"> keyof</span><span style="--shiki-light:#FFB86C;--shiki-light-font-style:italic;--shiki-dark:#5DA994;--shiki-dark-font-style:inherit;"> T</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">]</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> [</span><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#5DA994;--shiki-dark-font-style:inherit;">K</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">, </span><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#5DA994;--shiki-dark-font-style:inherit;">T</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">[</span><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#5DA994;--shiki-dark-font-style:inherit;">K</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">]];</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">}[</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">keyof</span><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#5DA994;--shiki-dark-font-style:inherit;"> T</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">];</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>8、修改 useTheme</strong></p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> useGlobalStore</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> }</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">@/stores/modules/global</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> storeToRefs</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> }</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">pinia</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">export</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;"> const</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;"> useTheme</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> ()</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =&gt;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">  const</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> globalStore</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;"> useGlobalStore</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">();</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">  const</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> isDark</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> }</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;"> storeToRefs</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">globalStore</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">  const</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;"> switchTheme</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> (</span><span style="--shiki-light:#FFB86C;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;">init</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">?</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#5DA994;--shiki-dark-font-style:inherit;"> Boolean</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">)</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =&gt;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">    if</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> (</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">!</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">init</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">)</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">      globalStore</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">setGlobalState</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">isDark</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;"> !</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">isDark</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">value</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">);</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">    }</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">    const</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> html</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> document</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">documentElement</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;"> as</span><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#5DA994;--shiki-dark-font-style:inherit;"> HTMLElement</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">    console</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">log</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">isDark</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">value</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">)</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">    if</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> (</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">isDark</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">value</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">)</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> html</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">setAttribute</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">class</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">dark</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">);</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">    else</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> html</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">setAttribute</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">class</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">primary</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">);</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">  const</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;"> initTheme</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> ()</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =&gt;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">    switchTheme</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#BD93F9;--shiki-dark:#4D9375;">true</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">);</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">  };</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">  return</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">    switchTheme</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">    initTheme</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">  }</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p><strong>9、界面调用</strong></p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> useTheme</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> }</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">@/hooks/useTheme</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> initTheme</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> switchTheme</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> }</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;"> useTheme</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">initTheme</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;"> modeSwitch</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> ()</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =&gt;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">  // const theme = document.documentElement.className</span></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">  // document.documentElement.className = theme === &#39;primary&#39; ? &#39;dark&#39; : &#39;primary&#39;</span></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">  switchTheme</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">();</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="跟随系统主题" tabindex="-1">跟随系统主题 <a class="header-anchor" href="#跟随系统主题" aria-label="Permalink to &quot;跟随系统主题&quot;">​</a></h2><p>首先，使用<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/@media/prefers-color-scheme" target="_blank" rel="noreferrer">媒体查询</a>，可以实现跟随系统主题的效果,其实只有<strong>light</strong>和<strong>dark</strong>两种颜色</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">body</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">{</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#80A665;">  margin</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">:</span><span style="--shiki-light:#BD93F9;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#80A665;">  padding</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">:</span><span style="--shiki-light:#BD93F9;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">container</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">{</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#80A665;">  position</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">:</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> fixed</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#80A665;">  width</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">:</span><span style="--shiki-light:#BD93F9;--shiki-dark:#4C9A91;"> 100</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">%</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#80A665;">  height</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">:</span><span style="--shiki-light:#BD93F9;--shiki-dark:#4C9A91;"> 100</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">%</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#80A665;">  overflow</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">:</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> auto</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#80A665;">  transition</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">:</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">color</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> .</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">5</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">s</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> background</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">color</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> .</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">5</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">s</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#80A665;">  color</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">:</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">#</span><span style="--shiki-light:#BD93F9;--shiki-dark:#4C9A91;">000</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">  background</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#80A665;">color</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">:</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">#</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">fff</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">}</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">layout</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">{</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#80A665;">  display</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">:</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> flex</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">  justify</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#80A665;">content</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">:</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> center</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">layer</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">{</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#80A665;">  width</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">:</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;"> 300</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">px</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#80A665;">  height</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">:</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;"> 300</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">px</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#80A665;">  padding</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">:</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;"> 8</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">px</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#80A665;">  margin</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">:</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;"> 10</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">px</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#80A665;">  border</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">:</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">1</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">px</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> solid</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;"> #</span><span style="--shiki-light:#BD93F9;--shiki-dark:#4C9A91;">000</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">}</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">@</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">media</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> (</span><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;">prefers</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;">color</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;">scheme</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">: </span><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;">dark</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">)</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">  .</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">container</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">{</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#80A665;">    color</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">:</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">#</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">fff</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">    background</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#80A665;">color</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">:</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">#</span><span style="--shiki-light:#BD93F9;--shiki-dark:#4C9A91;">000</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">  }</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">  .</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">layer</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">{</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#80A665;">    border</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">:</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">1</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">px</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> solid</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;"> #</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">fff</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">  }</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><p>我们可以通过<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window/matchMedia" target="_blank" rel="noreferrer">api - window.matchMedia</a>，来获取<strong>当前系统主题是深色还是浅色</strong></p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">window</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">matchMedia</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">(prefers-color-scheme: dark)</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>有了这个 API，我们完全就没必要修改之前的 css 代码，直接 js 判断</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> media</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> window</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">matchMedia</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">(prefers-color-scheme: dark)</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;"> followSystem</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> ()</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =&gt;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">  if</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> (</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">media</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">matches</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">)</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">    document</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">documentElement</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">className</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">dark</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">  }</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;"> else</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">    document</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">documentElement</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">className</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">primary</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">  }</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">followSystem</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">media</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">addEventListener</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">change</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> followSystem</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>直接在 vue3 项目中处理，添加界面系统主题图标，点击激活图标，表示激活跟随系统主题</p><p><strong>1、添加图标</strong></p><div class="language-html vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&lt;</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">button</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">  &lt;</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">svg</span></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;">    xmlns</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">=</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">http://www.w3.org/2000/svg</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;">    viewBox</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">=</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">0 0 16 16</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;">    fill</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">=</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">none</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;">    role</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">=</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">img</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">  &gt;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">    &lt;</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">circle</span><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;"> cx</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">=</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">8</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;"> cy</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">=</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">8</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;"> r</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">=</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">7.25</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;"> stroke</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">=</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">#5B5B66</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;"> stroke-width</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">=</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">1.5</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">    &lt;</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">mask</span></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;">      id</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">=</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">a</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;">      style</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">=</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">mask-type:alpha</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;">      maskUnits</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">=</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">userSpaceOnUse</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;">      x</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">=</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">0</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;">      y</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">=</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">0</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;">      width</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">=</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">16</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;">      height</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">=</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">16</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">    &gt;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">      &lt;</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">circle</span></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;">        cx</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">=</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">8</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;">        cy</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">=</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">8</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;">        r</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">=</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">7.25</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;">        fill</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">=</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">#5B5B66</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;">        stroke</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">=</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">#5B5B66</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;">        stroke-width</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">=</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">1.5</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">      /&gt;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">    &lt;/</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">mask</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">    &lt;</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">g</span><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;"> mask</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">=</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">url(#a)</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">      &lt;</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">path</span><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;"> fill</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">=</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">#5B5B66</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;"> d</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">=</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">M0 0h8v16H0z</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">    &lt;/</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">g</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">  &lt;/</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">svg</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&lt;/</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">button</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">css .os-default{ background-color: transparent; border: none; padding: 0; color:</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">var(--main-color); display: flex; justify-content: center; align-items: center;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">width: 20px; height: 20px; } .os-default-active{ background-color: transparent;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">border: 1px dotted var(--main-color); padding: 0px; color: var(--main-color);</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">display: flex; justify-content: center; align-items: center; width: 20px;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">height: 20px; }</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><p><strong>2、仓库添加属性</strong></p><div class="language-diff vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">diff</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">export const useGlobalStore = defineStore({</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">  id: &quot;dy-global&quot;,</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">  state: () =&gt; ({</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">    // 深色模式</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">    isDark: false,</span></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-dark:#85E89D;">+    // 系统颜色是否被激活</span></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-dark:#85E89D;">+    osThemeActive: false</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">  }),</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">  getters: {},</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">  actions: {</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">    // Set GlobalState</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">    setGlobalState(...args: ObjToKeyValArray&lt;GlobalState&gt;) {</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">      this.$patch({ [args[0]]: args[1] });</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">    }</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">  },</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">  persist: piniaPersistConfig(&quot;dy-global&quot;)</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>添加了属性，就必须修改 GlobalState 的 ts 配置</p><div class="language-diff vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">diff</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">export interface GlobalState {</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">  isDark: boolean;</span></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-dark:#85E89D;">+  osThemeActive: boolean;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">}</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">export type ObjToKeyValArray&lt;T&gt; = {</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">  [K in keyof T]: [K, T[K]];</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#DBD7CACC;">}[keyof T];</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>3、点击修改 css 样式</strong></p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> useTheme</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> }</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">@/hooks/useTheme</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> useGlobalStore</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> }</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">@/stores/modules/global</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> globalStore</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;"> useGlobalStore</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">initTheme</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">switchTheme</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">activeOSTheme</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">}</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;"> useTheme</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">initTheme</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;"> modeSwitch</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> ()</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =&gt;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">  switchTheme</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">()</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;"> osThemeSwitch</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> ()</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =&gt;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">  activeOSTheme</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">();</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">//html</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">&lt;</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">button</span><span style="--shiki-light:#FF5555;--shiki-light-font-style:italic;--shiki-light-text-decoration:underline;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;--shiki-dark-text-decoration:inherit;"> :class=&quot;globalStore.osThemeActive</span><span style="--shiki-light:#FF5555;--shiki-light-font-style:italic;--shiki-light-text-decoration:underline;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;--shiki-dark-text-decoration:inherit;"> ?</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">os-default-active</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#FF5555;--shiki-light-font-style:italic;--shiki-light-text-decoration:underline;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;--shiki-dark-text-decoration:inherit;"> :</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">os-default</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&#39;&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">  &lt;svg xmlns=</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#FF5555;--shiki-light-font-style:italic;--shiki-light-text-decoration:underline;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;--shiki-dark-text-decoration:inherit;">http://www.w3.org/2000/svg&quot;</span><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;"> viewBox</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">=</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">0 0 16 16</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;"> fill</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">=</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">none</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#50FA7B;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;"> role</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">=</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">img</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#FF5555;--shiki-light-font-style:italic;--shiki-light-text-decoration:underline;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;--shiki-dark-text-decoration:inherit;"> @click=&quot;osThemeSwitch&quot;&gt;</span></span>
<span class="line"><span style="--shiki-light:#FF5555;--shiki-light-font-style:italic;--shiki-light-text-decoration:underline;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;--shiki-dark-text-decoration:inherit;">	......省略</span></span>
<span class="line"><span style="--shiki-light:#FF5555;--shiki-light-font-style:italic;--shiki-light-text-decoration:underline;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;--shiki-dark-text-decoration:inherit;">  &lt;/svg&gt;</span></span>
<span class="line"><span style="--shiki-light:#FF5555;--shiki-light-font-style:italic;--shiki-light-text-decoration:underline;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;--shiki-dark-text-decoration:inherit;">&lt;/button&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p><strong>4、修改 useTheme.ts</strong></p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> useGlobalStore</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> }</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">@/stores/modules/global</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> storeToRefs</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> }</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">pinia</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> watchEffect</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> }</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">vue</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> media</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> window</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">matchMedia</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">(prefers-color-scheme: dark)</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">export</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;"> const</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;"> useTheme</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> ()</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =&gt;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">  const</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> globalStore</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;"> useGlobalStore</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">();</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">  const</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> isDark</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">osThemeActive</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> }</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;"> storeToRefs</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">globalStore</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">  const</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;"> switchTheme</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> (</span><span style="--shiki-light:#FFB86C;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;">init</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">?</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#5DA994;--shiki-dark-font-style:inherit;"> Boolean</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">)</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =&gt;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">    //init参数为true时，表示是初始化页面或者直接跟随系统主题</span></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">    //这个时候不需要手动切换明暗主题，也不需要将跟随系统主题设置为false</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">    if</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> (</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">!</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">init</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">)</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">      globalStore</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">setGlobalState</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">isDark</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;"> !</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">isDark</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">value</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">);</span></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">      //如果是直接点击切换明暗主题，那么跟随系统主题激活切换为false</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">      globalStore</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">setGlobalState</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">osThemeActive</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span><span style="--shiki-light:#BD93F9;--shiki-dark:#4D9375;"> false</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">);</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">    }</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">    const</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> html</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> document</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">documentElement</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;"> as</span><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#5DA994;--shiki-dark-font-style:inherit;"> HTMLElement</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">    if</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> (</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">isDark</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">value</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">)</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> html</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">setAttribute</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">class</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">dark</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">);</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">    else</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> html</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">setAttribute</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">class</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">primary</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">);</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">  }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">  //点击激活需要改变osThemeActive的值</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">  const</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;"> activeOSTheme</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> ()</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =&gt;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">    globalStore</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">setGlobalState</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">osThemeActive</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;"> !</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">osThemeActive</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">value</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">);</span></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">    followSystem</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">();</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">  const</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;"> followSystem</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> ()</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =&gt;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">    const</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> isOsDark</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> window</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">matchMedia</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">(prefers-color-scheme: dark)</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">).</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">matches</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">    //跟随系统主题设置明暗</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">    globalStore</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">setGlobalState</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">isDark</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> isOsDark</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">);</span></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">    switchTheme</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#BD93F9;--shiki-dark:#4D9375;">true</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">);</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">  watchEffect</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(()</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =&gt;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">    //系统主题切换，需要监听change事件</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">    if</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> (</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">osThemeActive</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">value</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">)</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">      media</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">addEventListener</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">change</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> followSystem</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">);</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">    }</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">    else</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">      media</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">removeEventListener</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">change</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> followSystem</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">);</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">    }</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">  })</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">  const</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;"> initTheme</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> ()</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =&gt;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">    switchTheme</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#BD93F9;--shiki-dark:#4D9375;">true</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">);</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">  };</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">  return</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">    switchTheme</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">    initTheme</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">    activeOSTheme</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">  }</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br></div></div><blockquote><p>所有源码均在：<a href="https://github.com/Sunny-117/blog/tree/main/code/theme-switch" target="_blank" rel="noreferrer">https://github.com/Sunny-117/blog/tree/main/code/theme-switch</a></p></blockquote>`,52)]))}const c=i(h,[["render",p]]);export{y as __pageData,c as default};
