import{_ as i}from"./chunks/plugin-vue_export-helper.DlAUqK2U.js";import{c as a,o as n,X as l}from"./chunks/vendor-vueuse.XPft87tp.js";const y=JSON.parse('{"title":"vue nextTick 实现原理，必拿下!","description":"","frontmatter":{},"headers":[],"relativePath":"fragment/nextTick.md","filePath":"fragment/nextTick.md","lastUpdated":1771466668000}'),p={name:"fragment/nextTick.md"};function k(h,s,t,e,F,r){return n(),a("div",null,s[0]||(s[0]=[l(`<h1 id="vue-nexttick-实现原理-必拿下" tabindex="-1">vue nextTick 实现原理，必拿下! <a class="header-anchor" href="#vue-nexttick-实现原理-必拿下" aria-label="Permalink to &quot;vue nextTick 实现原理，必拿下!&quot;">​</a></h1><h2 id="为什么会有-nexttick-这个东西的存在" tabindex="-1">为什么会有 nextTick 这个东西的存在? <a class="header-anchor" href="#为什么会有-nexttick-这个东西的存在" aria-label="Permalink to &quot;为什么会有 nextTick 这个东西的存在?&quot;">​</a></h2><p>因为 vue 采用的 异步更新策略 ，当监听到数据发生变化的时候不会立即去更新 DOM，而是开启一个任务队列，并缓存在同一事件循环中发生的所有数据变更。</p><p>这种做法带来的好处就是可以将多次数据更新合并成一次，减少操作 DOM 的次数，如果不采用这种方法，假设数据改变 100 次就要去更新 100 次 DOM，而频繁的 DOM 更新是很耗性能的。</p><h2 id="nexttick-的作用" tabindex="-1">nextTick 的作用？ <a class="header-anchor" href="#nexttick-的作用" aria-label="Permalink to &quot;nextTick 的作用？&quot;">​</a></h2><p>nextTick 接收一个回调函数作为参数，并将这个回调函数延迟到 DOM 更新后才执行；想要操作 基于最新数据生成的 DOM 时，就将这个操作放在 nextTick 的回调中；</p><h2 id="nexttick-实现原理" tabindex="-1">nextTick 实现原理 <a class="header-anchor" href="#nexttick-实现原理" aria-label="Permalink to &quot;nextTick 实现原理&quot;">​</a></h2><p>将传入的回调函数包装成异步任务，异步任务又分微任务和宏任务，为了尽快执行所以优先选择微任务； nextTick 提供了四种异步方法 Promise.then、MutationObserver、setImmediate、setTimeout(fn,0)</p><h2 id="源码解读" tabindex="-1">源码解读 <a class="header-anchor" href="#源码解读" aria-label="Permalink to &quot;源码解读&quot;">​</a></h2><p>源码位置 <code>core/util/next-tick</code></p><p>源码并不复杂，三个函数，60 几行代码，沉下心去看！</p><div class="language-ts vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes dracula vitesse-black vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> noop</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> }</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">shared/util</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> handleError</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> }</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">./error</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> isIE</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> isIOS</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> isNative</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> }</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">./env</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">//  noop 表示一个无操作空函数，用作函数默认值，防止传入 undefined 导致报错</span></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">//  handleError 错误处理函数</span></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">//  isIE, isIOS, isNative 环境判断函数，</span></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">//  isNative 判断某个属性或方法是否原生支持，如果不支持或通过第三方实现支持都会返回 false</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">export</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;"> let</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> isUsingMicroTask</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#BD93F9;--shiki-dark:#4D9375;"> false</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;"> // 标记 nextTick 最终是否以微任务执行</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> callbacks</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> [];</span><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;"> // 存放调用 nextTick 时传入的回调函数</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">let</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> pending</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#BD93F9;--shiki-dark:#4D9375;"> false</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;"> // 标记是否已经向任务队列中添加了一个任务，如果已经添加了就不能再添加了</span></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">// 当向任务队列中添加了任务时，将 pending 置为 true，当任务被执行时将 pending 置为 false</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">// 声明 nextTick 函数，接收一个回调函数和一个执行上下文作为参数</span></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">// 回调的 this 自动绑定到调用它的实例上</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">export</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;"> function</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;"> nextTick</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">cb</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">?</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#5DA994;--shiki-dark-font-style:inherit;"> Function</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span><span style="--shiki-light:#FFB86C;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;"> ctx</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">?</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#5DA994;--shiki-dark-font-style:inherit;"> Object</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">)</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">  let</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> _resolve</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">  // 将传入的回调函数存放到数组中，后面会遍历执行其中的回调</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">  callbacks</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">push</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(()</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =&gt;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">    if</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> (</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">cb</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">)</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">      // 对传入的回调进行 try catch 错误捕获</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">      try</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">        cb</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">call</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">ctx</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">);</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">      }</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;"> catch</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> (</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">e</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">)</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">        // 进行统一的错误处理</span></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">        handleError</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">e</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> ctx</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">nextTick</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">);</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">      }</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">    }</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;"> else</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;"> if</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> (</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">_resolve</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">)</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">      _resolve</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">ctx</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">);</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">    }</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">  });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">  // 如果当前没有在 pending 的回调，</span></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">  // 就执行 timeFunc 函数选择当前环境优先支持的异步方法</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">  if</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> (</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">!</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">pending</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">)</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">    pending</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#BD93F9;--shiki-dark:#4D9375;"> true</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">    timerFunc</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">();</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">  // 如果没有传入回调，并且当前环境支持 promise，就返回一个 promise</span></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">  // 在返回的这个 promise.then 中 DOM 已经更新好了，</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">  if</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> (</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">!</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">cb</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;"> &amp;&amp;</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;"> typeof</span><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#B8A965;--shiki-dark-font-style:inherit;"> Promise</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;"> !==</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">undefined</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">)</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">    return</span><span style="--shiki-light:#FF79C6;--shiki-light-font-weight:bold;--shiki-dark:#CB7676;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#B8A965;--shiki-dark-font-style:inherit;"> Promise</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">((</span><span style="--shiki-light:#FFB86C;--shiki-light-font-style:italic;--shiki-dark:#BD976A;--shiki-dark-font-style:inherit;">resolve</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">)</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =&gt;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">      _resolve</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> resolve</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">    });</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">  }</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">// 判断当前环境优先支持的异步方法，优先选择微任务</span></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">// 优先级：Promise---&gt; MutationObserver---&gt; setImmediate---&gt; setTimeout</span></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">// setTimeout 可能产生一个 4ms 的延迟，而 setImmediate 会在主线程执行完后立刻执行</span></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">// setImmediate 在 IE10 和 node 中支持</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">// 当在同一轮事件循环中多次调用 nextTick 时 ,timerFunc 只会执行一次</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">let</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> timerFunc</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">// 判断当前环境是否原生支持 promise</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">if</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> (</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">typeof</span><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#B8A965;--shiki-dark-font-style:inherit;"> Promise</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;"> !==</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">undefined</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;"> &amp;&amp;</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;"> isNative</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#B8A965;--shiki-dark-font-style:inherit;">Promise</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">))</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">  // 支持 promise</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">  const</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> p</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#8BE9FD;--shiki-light-font-style:italic;--shiki-dark:#B8A965;--shiki-dark-font-style:inherit;"> Promise</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">resolve</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">();</span></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">  timerFunc</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> ()</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =&gt;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">    // 用 promise.then 把 flushCallbacks 函数包裹成一个异步微任务</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">    p</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">then</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">flushCallbacks</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">);</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">    if</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> (</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">isIOS</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">)</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;"> setTimeout</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">noop</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">);</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">  };</span></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">  // 标记当前 nextTick 使用的微任务</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">  isUsingMicroTask</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#BD93F9;--shiki-dark:#4D9375;"> true</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">  // 如果不支持 promise，就判断是否支持 MutationObserver</span></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">  // 不是IE环境，并且原生支持 MutationObserver，那也是一个微任务</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">}</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;"> else</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;"> if</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> (</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">  !</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">isIE</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;"> &amp;&amp;</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">  typeof</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> MutationObserver</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;"> !==</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">undefined</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;"> &amp;&amp;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">  (</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">isNative</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">MutationObserver</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">)</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;"> ||</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">    MutationObserver</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">toString</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">()</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;"> ===</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">[object MutationObserverConstructor]</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">)</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">)</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">  let</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> counter</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#BD93F9;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">  // new 一个 MutationObserver 类</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">  const</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> observer</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#FF79C6;--shiki-light-font-weight:bold;--shiki-dark:#CB7676;--shiki-dark-font-weight:inherit;"> new</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;"> MutationObserver</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">flushCallbacks</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">);</span></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">  // 创建一个文本节点</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">  const</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> textNode</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> document</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">createTextNode</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">String</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">counter</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">));</span></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">  // 监听这个文本节点，当数据发生变化就执行 flushCallbacks</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">  observer</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">observe</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">textNode</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> { </span><span style="--shiki-light:#F8F8F2;--shiki-dark:#B8A965;">characterData</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;">:</span><span style="--shiki-light:#BD93F9;--shiki-dark:#4D9375;"> true</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> });</span></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">  timerFunc</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> ()</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =&gt;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">    counter</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> (</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">counter</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;"> +</span><span style="--shiki-light:#BD93F9;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">)</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;"> %</span><span style="--shiki-light:#BD93F9;--shiki-dark:#4C9A91;"> 2</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">    textNode</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">data</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;"> String</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">counter</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">);</span><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;"> // 数据更新</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">  };</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">  isUsingMicroTask</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#BD93F9;--shiki-dark:#4D9375;"> true</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;"> // 标记当前 nextTick 使用的微任务</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">  // 判断当前环境是否原生支持 setImmediate</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">}</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;"> else</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;"> if</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> (</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">typeof</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> setImmediate</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;"> !==</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#F1FA8C;--shiki-dark:#C98A7D;">undefined</span><span style="--shiki-light:#E9F284;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;"> &amp;&amp;</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;"> isNative</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">setImmediate</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">))</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">  timerFunc</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> ()</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =&gt;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">    setImmediate</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">flushCallbacks</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">);</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">  };</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">}</span><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;"> else</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">  // 以上三种都不支持就选择 setTimeout</span></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">  timerFunc</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> ()</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =&gt;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">    setTimeout</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">flushCallbacks</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">,</span><span style="--shiki-light:#BD93F9;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">);</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">  };</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">// 如果多次调用 nextTick，会依次执行上面的方法，将 nextTick 的回调放在 callbacks 数组中</span></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">// 最后通过 flushCallbacks 函数遍历 callbacks 数组的拷贝并执行其中的回调</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">function</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;"> flushCallbacks</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">()</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">  pending</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#BD93F9;--shiki-dark:#4D9375;"> false</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">  const</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> copies</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> callbacks</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#50FA7B;--shiki-dark:#80A665;">slice</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">(</span><span style="--shiki-light:#BD93F9;--shiki-dark:#4C9A91;">0</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">);</span><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;"> // 拷贝一份 callbacks</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">  callbacks</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#B8A965;">length</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#BD93F9;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;"> // 清空 callbacks</span></span>
<span class="line"><span style="--shiki-light:#FF79C6;--shiki-dark:#4D9375;">  for</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> (</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">let</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> i</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> =</span><span style="--shiki-light:#BD93F9;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> i</span><span style="--shiki-light:#FF79C6;--shiki-dark:#444444;"> &lt;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> copies</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">.</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#B8A965;">length</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">;</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;"> i</span><span style="--shiki-light:#FF79C6;--shiki-dark:#CB7676;">++</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">)</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;"> {</span></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">    // 遍历执行传入的回调</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">    copies</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">[</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#BD976A;">i</span><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">]();</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">  }</span></span>
<span class="line"><span style="--shiki-light:#F8F8F2;--shiki-dark:#444444;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">// 为什么要拷贝一份 callbacks</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">// 用 callbacks.slice(0) 将 callbacks 拷贝出来一份，</span></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">// 是因为考虑到在 nextTick 回调中可能还会调用 nextTick 的情况,</span></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">// 如果在 nextTick 回调中又调用了一次 nextTick，则又会向 callbacks 中添加回调，</span></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">// 而 nextTick 回调中的 nextTick 应该放在下一轮执行，</span></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">// 否则就可能出现一直循环的情况，</span></span>
<span class="line"><span style="--shiki-light:#6272A4;--shiki-dark:#758575DD;">// 所以需要将 callbacks 复制一份出来然后清空，再遍历备份列表执行回调</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br></div></div>`,12)]))}const c=i(p,[["render",k]]);export{y as __pageData,c as default};
